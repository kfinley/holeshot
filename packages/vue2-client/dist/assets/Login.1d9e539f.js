import{S as u,C as p,e as v,f as c,h as f,V as g,R as _,u as h,A as b,m as w,j as m,n as y}from"./index.4cb473d5.js";import{N as x}from"./notification-list.58e70d82.js";var C=Object.defineProperty,P=Object.getOwnPropertyDescriptor,n=(e,r,t,a)=>{for(var s=a>1?void 0:a?P(r,t):r,i=e.length-1,l;i>=0;i--)(l=e[i])&&(s=(a?l(r,t,s):l(s))||s);return a&&s&&C(r,t,s),s};let o=class extends g{constructor(){super(...arguments),this.email="",this.password="",this.registerRoute=_.Register}mounted(){var e;(e=this.emailElement)==null||e.focus()}async onSubmit(){await this.formObserver.validate()&&h.login({email:this.email,password:this.password})}get loggingIn(){return this.state.authStatus===b.LoggingIn}get messages(){return w}};n([m()],o.prototype,"formObserver",2);n([m()],o.prototype,"emailElement",2);n([u("User")],o.prototype,"state",2);o=n([p({components:{ValidationProvider:v,ValidationObserver:c,Card:f,NotificationList:x}})],o);var S=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("notification-list"),t("card",{staticStyle:{height:"90vh"},attrs:{"header-text":"Login","show-close":!1,"max-width":"600px",padding:"2"}},[t("ValidationObserver",{ref:"formObserver"},[t("form",{attrs:{autocomplete:"off",role:"form text-left"},on:{submit:function(a){return a.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("ValidationProvider",{attrs:{name:"email",type:"email",rules:"required|email",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"emailElement",class:["form-control",{"is-invalid":s[0]}],attrs:{type:"email",placeholder:"Email","aria-label":"Email",disabled:e.loggingIn},domProps:{value:e.email},on:{input:function(i){i.target.composing||(e.email=i.target.value)}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:s[0],expression:"errors[0]"}],staticClass:"invalid-feedback"},[e._v(" "+e._s(s[0])+" ")])]}}])})],1),t("div",{staticClass:"mb-3"},[t("ValidationProvider",{attrs:{name:"password",rules:"required",mode:"passive"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:["form-control",{"is-invalid":s[0]}],attrs:{type:"password",placeholder:"Password","aria-label":"Password",disabled:e.loggingIn},domProps:{value:e.password},on:{input:function(i){i.target.composing||(e.password=i.target.value)}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:s[0],expression:"errors[0]"}],staticClass:"invalid-feedback"},[e._v(" "+e._s(s[0])+" ")])]}}])})],1),t("div",{staticClass:"text-center"},[t("button",{staticClass:"btn primary-gradient w-100 my-4 mb-2",attrs:{type:"submit",disabled:e.loggingIn}},[e.loggingIn?t("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e._v(" Log in ")])])])]),t("p",{staticClass:"text-sm mt-3 mb-0"},[e._v(" Need an account? "),t("router-link",{staticClass:"text-dark font-weight-bolder",attrs:{to:{name:e.registerRoute}}},[e._v("Register")])],1)],1)],1)},O=[];const d={};var V=y(o,S,O,!1,N,null,null,null);function N(e){for(let r in d)this[r]=d[r]}var E=function(){return V.exports}();export{E as default};
